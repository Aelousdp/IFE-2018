<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
          name="viewport"/>
    <title>第二十到第二十一天：让你和页面对话</title>
    <link rel="stylesheet" href="20.css">
    <style>
        select {
            display: none;
        }

        .palette {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .palette li {
            width: 40px;
            height: 40px;
            border: 1px solid #000;
            cursor: pointer;
        }

        #erikface {
            background: url("erik_ce204002.jpg");
            background-position-y: 0;
            width: 480px;
            height: 480px;
            padding: 0;
        }
    </style>
</head>
<body>

<h1>第二十到第二十一天：让你和页面对话</h1>

<hr/>
<h2>课程目标：</h2>
<ul>
    <li>掌握 JavaScript 事件的概念，并能写出基本的事件相关的代码</li>
    <li>掌握如何通过 JavaScript 操作 DOM 的样式</li>
</ul>

<hr/>
<h2>正式任务：</h2>

<hr/>
<h2>学习笔记：</h2>
<h3>概览：</h3>
<table>
    <tr>
        <td>日期：</td>
        <td>
            <time>2018-5-13</time>
        </td>
    </tr>
    <tr>
        <td>学习时间：</td>
        <td>1天</td>
    </tr>
    <tr>
        <td>目标：</td>
        <td></td>
    </tr>
    <tr>
        <td>是否达成：</td>
        <td>达成</td>
    </tr>
    <tr>
        <td>今日了解：</td>
        <td>...</td>
    </tr>
    <tr>
        <td>疑问：</td>
        <td>...</td>
    </tr>
</table>
<h3>详情：</h3>
<!-- 任务一 -->
<div class="container">
    <input id="name" type="text">
    <button id="submit-btn">Submit</button>

    <script>
        let oButton = document.getElementById("submit-btn");
        let oInput = document.getElementById("name");

        oButton.onclick = function () {
            oInput = document.getElementById("name");
            console.log(oInput.value);
        };

        oInput.onkeydown = function (ev) {
            if (ev.keyCode === 13) {
                oInput = document.getElementById("name");
                console.log(oInput.value);
            }
            if (ev.keyCode === 27) {
                oInput = document.getElementById("name");
                oInput.value = null;
            }
        };
    </script>
</div>
<!-- 任务二 -->
<div class="container">
    <label>
        <input id="school" name="status" type="radio">
        School
    </label>
    <label>
        <input id="company" name="status" type="radio">
        Company
    </label>

    <select id="school-select">
        <option>北京邮电大学</option>
        <option>黑龙江大学</option>
        <option>华中科技大学</option>
    </select>

    <select id="company-select">
        <option>百度</option>
        <option>爱奇艺</option>
    </select>

    <script>
        let oSchool = document.getElementById("school");
        let oCompany = document.getElementById("company");
        let oSchoolSelect = document.getElementById("school-select");
        let oCompanySelect = document.getElementById("company-select");

        oSchool.addEventListener('focus', function () {
            oSchoolSelect.style.display = 'block';
            oCompanySelect.style.display = 'none';
        });
        oCompany.addEventListener('focus', function () {
            oSchoolSelect.style.display = 'none';
            oCompanySelect.style.display = 'block';
        });
    </script>
</div>
<!-- 任务三 -->
<div class="container">
    <ul class="palette">
        <li style="background-color:crimson"></li>
        <li style="background-color:bisque"></li>
        <li style="background-color:blueviolet"></li>
        <li style="background-color:coral"></li>
        <li style="background-color:chartreuse"></li>
        <li style="background-color:darkolivegreen"></li>
        <li style="background-color:cyan"></li>
        <li style="background-color:#194738"></li>
    </ul>

    <p class="color-picker"></p>

    <script>
        let list = document.querySelectorAll("li");
        // for (let i = 0, len = list.length; i < len; i++) {
        //     list[i].onclick = function (e) {
        //         let t = e.target;
        //         let c = t.style.backgroundColor;
        //         let p = document.getElementsByClassName("color-picker")[0];
        //         p.innerHTML = c;
        //         p.style.color = c;
        //     }
        // }
        for (let i = 0, len = list.length; i < len; i++) {
            list[i].addEventListener("click", function (e) {
                let t = e.target;
                let c = t.style.backgroundColor;
                let p = document.getElementsByClassName("color-picker")[0];
                p.innerHTML = c;
                p.style.color = c;
            });
        }
    </script>
</div>
<!-- 任务四 -->
<div class="container">
    <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
    <button id="fade-btn">淡出</button>
    <script>
        let oFadeObj = document.getElementById("fade-obj");
        let oFadeBtn = document.getElementById("fade-btn");
        let time = null;
        let num;

        oFadeBtn.onclick = function () {
            if (this.innerHTML === "淡出") {
                oFadeBtn.disabled = true;
                num = 10;
                time = setInterval(function () {
                    num--;
                    oFadeObj.style.opacity = num / 10;
                    if (num <= 0) {
                        clearInterval(time);
                        oFadeBtn.disabled = false;
                        oFadeBtn.innerHTML = "淡入";
                    }
                }, 100);
            } else {
                oFadeBtn.disabled = true;
                num = 0;
                time = setInterval(function () {
                    num++;
                    oFadeObj.style.opacity = num / 10;
                    if (num >= 10) {
                        clearInterval(time);
                        oFadeBtn.disabled = false;
                        oFadeBtn.innerHTML = "淡出";
                    }
                }, 100);
            }
        };
    </script>
</div>
<div class="container">
    <div id="erikface" title="百度EFE团队 Web前端主任架构师 erik" class="section-practice-img"></div>

    <script>
        let oErik = document.getElementById("erikface");
        setInterval(() => {
            let posY = oErik.style.backgroundPositionY;
            posY = Number(posY.slice(0, posY.length - 2)) - 480;
            oErik.style.backgroundPositionY = posY + 'px';
        }, 100);
    </script>
</div>

<hr/>
<h2>验证：</h2>
<p>无</p>

</body>
</html>